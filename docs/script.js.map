{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/customizator.js","webpack:///./src/js/main.js"],"names":["Customizator","constructor","btnBLock","document","createElement","colorPicker","clear","scale","localStorage","getItem","color","addEventListener","e","onScaleChange","onColorChange","reset","render","injectStyle","setBgColor","setScale","scaleInputS","scaleInputM","panel","classList","add","innerHTML","setAttribute","append","body","style","querySelector","appendChild","target","value","replace","setItem","recursy","element","childNodes","forEach","node","nodeName","nodeValue","length","parentElement","dataset","fz","window","getComputedStyle","fontSize","contains","backgroundColor"],"mappings":"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","file":"script.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/main.js\");\n","/**\r\n * Класс по изменению параметров страницы\r\n */\r\nexport default class Customizator {\r\n\r\n  /** Коиструктор костамизатора */\r\n  constructor() {\r\n    this.btnBLock = document.createElement('div');\r\n    this.colorPicker = document.createElement('input');\r\n    this.clear = document.createElement('div');\r\n    this.scale = localStorage.getItem('scale') || 1;\r\n    this.color = localStorage.getItem('color') || '#ffffff';\r\n    //\r\n    this.btnBLock.addEventListener('click', (e) => this.onScaleChange(e));\r\n    this.colorPicker.addEventListener('input', (e) => this.onColorChange(e));\r\n    this.clear.addEventListener('click', () => this.reset());\r\n  }\r\n\r\n  /**\r\n   * Инизиализирует костамизатор (выводим на страницу панель для управления параметрами страницы)\r\n   * @returns {void}\r\n   */\r\n  render() {\r\n    this.injectStyle();\r\n    this.setBgColor();\r\n    this.setScale();\r\n\r\n    let scaleInputS = document.createElement('input'),\r\n        scaleInputM = document.createElement('input'),\r\n        panel = document.createElement('div');\r\n\r\n    panel.classList.add('panel');\r\n\r\n    this.btnBLock.classList.add('scale');\r\n    scaleInputS.classList.add('scale_btn');\r\n    scaleInputM.classList.add('scale_btn');\r\n\r\n    this.colorPicker.classList.add('color');\r\n\r\n    this.clear.innerHTML = `&times;`;\r\n    this.clear.classList.add('clear');\r\n\r\n    scaleInputS.setAttribute('type', 'button');\r\n    scaleInputM.setAttribute('type', 'button');\r\n    scaleInputS.setAttribute('value', '1x');\r\n    scaleInputM.setAttribute('value', '1.5x');\r\n    this.colorPicker.setAttribute('type', 'color');\r\n    this.colorPicker.setAttribute('value', '#ffffff');\r\n\r\n    this.btnBLock.append(scaleInputS, scaleInputM);\r\n    panel.append(this.btnBLock, this.colorPicker, this.clear);\r\n\r\n    document.body.append(panel);\r\n  }\r\n\r\n  injectStyle() {\r\n    const style = document.createElement('style');\r\n    style.innerHTML = `\r\n        .panel {\r\n            display: flex;\r\n            justify-content: space-around;\r\n            align-items: center;\r\n            position: fixed;\r\n            top: 10px;\r\n            right: 0;\r\n            border: 1px solid rgba(0,0,0, .2);\r\n            box-shadow: 0 0 20px rgba(0,0,0, .5);\r\n            width: 300px;\r\n            height: 60px;\r\n            background-color: #fff;\r\n        }\r\n        .scale {\r\n            display: flex;\r\n            justify-content: space-around;\r\n            align-items: center;\r\n            width: 100px;\r\n            height: 40px;\r\n        }\r\n        .scale_btn {\r\n            display: block;\r\n            width: 40px;\r\n            height: 40px;\r\n            border: 1px solid rgba(0,0,0, .2);\r\n            border-radius: 4px;\r\n            font-size: 18px;\r\n        }\r\n        .color {\r\n            width: 40px;\r\n            height: 40px;\r\n        }\r\n        .clear {\r\n            font-size: 30px;\r\n            cursor: pointer;\r\n        }\r\n    `;\r\n    document.querySelector('head').appendChild(style);\r\n  }\r\n\r\n  /**\r\n   * Запомнить размер шрифта в localStorage\r\n   * @param {object} e объект события\r\n   * @returns {void}\r\n   */\r\n  onScaleChange(e) {\r\n    this.scale = +e.target.value.replace(/x/g, '')\r\n    localStorage.setItem('scale', this.scale);\r\n    this.setScale();\r\n  }\r\n\r\n  /**\r\n   * Устанавливает размер шрифта\r\n   * @returns {void}\r\n   */\r\n  setScale() {\r\n\r\n    /**\r\n     * Функция рекурсии\r\n     * @param {Element} element\r\n     * @returns {void}\r\n     * */\r\n    const recursy = (element) => {\r\n      element.childNodes.forEach((node) => {\r\n        if (node.nodeName === '#text' && node.nodeValue.replace(/\\s+/g, \"\").length > 0) {\r\n\r\n          if (!node.parentElement.dataset.fz) {\r\n            const value = window.getComputedStyle(node.parentElement).fontSize;\r\n            node.parentElement.setAttribute('data-fz', value.replace(/\\D/g, ''));\r\n          }\r\n\r\n          node.parentElement.style.fontSize = node.parentElement.dataset.fz * this.scale + 'px';\r\n        } else {\r\n\r\n          if (node.classList && !node.classList.contains('panel')) recursy(node);\r\n\r\n        }\r\n      });\r\n    };\r\n\r\n    recursy(document.body);\r\n  }\r\n\r\n  /**\r\n   * Запомнить цвет в localStorage\r\n   * @param {object} e объект события\r\n   * @returns {void}\r\n   */\r\n  onColorChange(e) {\r\n    this.color = e.target.value;\r\n    localStorage.setItem('color', this.color);\r\n    this.setBgColor();\r\n  }\r\n\r\n  /**\r\n   * Устанавливает цвет\r\n   * @returns {void}\r\n   */\r\n  setBgColor() {\r\n    document.body.style.backgroundColor = this.color;\r\n    this.colorPicker.value = this.color;\r\n  }\r\n\r\n  /**\r\n   * Очистить localStorage\r\n   * @returns {void}\r\n   */\r\n  reset() {\r\n    localStorage.clear();\r\n\r\n    this.scale = 1;\r\n    this.color = '#ffffff';\r\n\r\n    this.setBgColor();\r\n    this.setScale();\r\n  }\r\n}","import Customizator from \"./customizator\";\r\n\r\nwindow.addEventListener('DOMContentLoaded', () => {\r\n\r\n  const panel = new Customizator()\r\n  panel.render()\r\n\r\n})"],"sourceRoot":""}